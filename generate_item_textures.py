#!/usr/bin/env python3
"""
生成 32x32 Minecraft像素画风格的蛊真人物品贴图
"""
from PIL import Image
import os

OUTPUT_DIR = "/mnt/e/code/mod/gu/src/main/resources/assets/reverend_insanity/textures/item/"
SIZE = 32

def new_img():
    return Image.new('RGBA', (SIZE, SIZE), (0, 0, 0, 0))

def save(img, name):
    img.save(os.path.join(OUTPUT_DIR, name))
    print(f"  Generated {name}")

def px(img, x, y, color):
    if 0 <= x < SIZE and 0 <= y < SIZE:
        img.putpixel((x, y), color)

def fill_rect(img, x1, y1, x2, y2, color):
    for yy in range(y1, y2 + 1):
        for xx in range(x1, x2 + 1):
            px(img, xx, yy, color)

def draw_outline(img, pixels, color):
    for (x, y) in pixels:
        px(img, x, y, color)

def shade(base, factor):
    r, g, b = base[0], base[1], base[2]
    a = base[3] if len(base) > 3 else 255
    return (max(0, min(255, int(r * factor))),
            max(0, min(255, int(g * factor))),
            max(0, min(255, int(b * factor))), a)

# ============================================================
# 1. 希望蛊 - 白色蚕形小虫
# ============================================================
def gen_hope_gu():
    img = new_img()
    outline = (0xA0, 0x98, 0x8C, 255)
    body = (0xE8, 0xE0, 0xD0, 255)
    highlight = (0xFF, 0xF8, 0xE0, 255)
    shadow = (0xC8, 0xC0, 0xB0, 255)
    dark = (0xB0, 0xA8, 0x98, 255)

    # 蚕形身体 - 水平朝右，分节的蚕虫
    # 头部 (较圆)
    for (x, y) in [(12,13),(13,13),(14,13),(12,14),(13,14),(14,14),(15,14),
                    (12,15),(13,15),(14,15),(15,15),(12,16),(13,16),(14,16),(15,16),
                    (13,17),(14,17)]:
        px(img, x, y, body)
    # 头部高光
    for (x, y) in [(13,13),(14,13),(13,14),(14,14)]:
        px(img, x, y, highlight)
    # 头部轮廓
    for (x, y) in [(11,13),(11,14),(11,15),(11,16),(12,12),(13,12),(14,12),
                    (15,13),(16,14),(16,15),(16,16),(15,17),(14,18),(13,18),(12,17)]:
        px(img, x, y, outline)
    # 眼睛
    px(img, 13, 15, (0x33, 0x33, 0x33, 255))

    # 身体节段1
    for (x, y) in [(15,13),(16,13),(17,13),(15,14),(16,14),(17,14),
                    (15,15),(16,15),(17,15),(15,16),(16,16),(17,16)]:
        px(img, x, y, body)
    for (x, y) in [(15,13),(16,13)]:
        px(img, x, y, highlight)
    for (x, y) in [(17,16),(18,16)]:
        px(img, x, y, shadow)

    # 身体节段2
    for (x, y) in [(18,13),(19,13),(20,13),(18,14),(19,14),(20,14),
                    (18,15),(19,15),(20,15),(18,16),(19,16),(20,16)]:
        px(img, x, y, body)
    for (x, y) in [(18,13),(19,13)]:
        px(img, x, y, highlight)
    for (x, y) in [(20,16)]:
        px(img, x, y, shadow)

    # 身体节段3
    for (x, y) in [(21,14),(22,14),(21,15),(22,15),(21,16),(22,16)]:
        px(img, x, y, body)
    for (x, y) in [(21,14)]:
        px(img, x, y, highlight)
    for (x, y) in [(22,16)]:
        px(img, x, y, shadow)

    # 尾部
    for (x, y) in [(23,14),(23,15),(24,15)]:
        px(img, x, y, shadow)

    # 身体上轮廓
    for (x, y) in [(15,12),(16,12),(17,12),(18,12),(19,12),(20,12),(21,13),(22,13),(23,13),(24,14)]:
        px(img, x, y, outline)
    # 身体下轮廓
    for (x, y) in [(15,17),(16,17),(17,17),(18,17),(19,17),(20,17),(21,17),(22,17),(23,16),(24,16),(25,15)]:
        px(img, x, y, outline)

    # 节段分割线
    for y in range(13, 17):
        px(img, 17, y, dark)
        px(img, 20, y, dark)

    # 小脚
    for (x, y) in [(14,18),(16,18),(19,18),(22,18)]:
        px(img, x, y, shadow)

    # 发光感 - 在身体周围加淡金半透明像素
    glow = (0xFF, 0xF8, 0xE0, 80)
    for (x, y) in [(12,11),(13,11),(14,11),(16,11),(18,11),(20,11),
                    (10,14),(10,15),(25,14),(26,15),
                    (14,19),(17,19),(20,19)]:
        px(img, x, y, glow)

    save(img, "hope_gu.png")


# ============================================================
# 2. 月光蛊 - 蓝色蛾子形
# ============================================================
def gen_moonlight_gu():
    img = new_img()
    outline = (0x22, 0x33, 0x66, 255)
    body = (0x44, 0x66, 0xCC, 255)
    wing = (0x66, 0x88, 0xEE, 255)
    glow = (0xAA, 0xCC, 0xFF, 255)
    highlight = (0x88, 0xAA, 0xFF, 255)
    dark_body = (0x33, 0x55, 0xAA, 255)

    # 身体（中间竖直）
    for y in range(11, 22):
        px(img, 15, y, body)
        px(img, 16, y, body)
    for y in range(11, 16):
        px(img, 15, y, highlight)
    for y in range(17, 22):
        px(img, 16, y, dark_body)

    # 头部
    for (x, y) in [(14,10),(15,10),(16,10),(17,10),(14,9),(15,9),(16,9),(17,9)]:
        px(img, x, y, body)
    for (x, y) in [(14,9),(15,9)]:
        px(img, x, y, highlight)
    # 触角
    px(img, 13, 7, outline)
    px(img, 14, 8, outline)
    px(img, 18, 7, outline)
    px(img, 17, 8, outline)
    px(img, 12, 6, glow)
    px(img, 19, 6, glow)
    # 眼睛
    px(img, 14, 10, glow)
    px(img, 17, 10, glow)

    # 左上翅
    for (x, y) in [(10,11),(11,11),(12,11),(13,11),(14,11),
                    (9,12),(10,12),(11,12),(12,12),(13,12),(14,12),
                    (8,13),(9,13),(10,13),(11,13),(12,13),(13,13),(14,13),
                    (8,14),(9,14),(10,14),(11,14),(12,14),(13,14),(14,14),
                    (9,15),(10,15),(11,15),(12,15),(13,15),(14,15),
                    (10,16),(11,16),(12,16),(13,16),(14,16)]:
        px(img, x, y, wing)
    # 翅膀高光
    for (x, y) in [(10,11),(11,11),(10,12),(11,12),(9,13),(10,13)]:
        px(img, x, y, glow)
    # 翅膀轮廓
    for (x, y) in [(10,10),(11,10),(12,10),(13,10),
                    (9,11),(8,12),(7,13),(7,14),(8,15),(9,16),(10,17),(11,17),(12,17),(13,17),(14,17)]:
        px(img, x, y, outline)

    # 右上翅 (镜像)
    for (x, y) in [(17,11),(18,11),(19,11),(20,11),(21,11),
                    (17,12),(18,12),(19,12),(20,12),(21,12),(22,12),
                    (17,13),(18,13),(19,13),(20,13),(21,13),(22,13),(23,13),
                    (17,14),(18,14),(19,14),(20,14),(21,14),(22,14),(23,14),
                    (17,15),(18,15),(19,15),(20,15),(21,15),(22,15),
                    (17,16),(18,16),(19,16),(20,16),(21,16)]:
        px(img, x, y, wing)
    for (x, y) in [(20,11),(21,11),(21,12),(22,12),(22,13),(23,13)]:
        px(img, x, y, highlight)
    for (x, y) in [(18,10),(19,10),(20,10),(21,10),
                    (22,11),(23,12),(24,13),(24,14),(23,15),(22,16),(21,17),(20,17),(19,17),(18,17),(17,17)]:
        px(img, x, y, outline)

    # 下翅左
    for (x, y) in [(11,18),(12,18),(13,18),(14,18),
                    (10,19),(11,19),(12,19),(13,19),(14,19),
                    (10,20),(11,20),(12,20),(13,20),(14,20),
                    (11,21),(12,21),(13,21),(14,21),
                    (12,22),(13,22)]:
        px(img, x, y, wing)
    for (x, y) in [(11,18),(12,18)]:
        px(img, x, y, glow)
    for (x, y) in [(10,18),(9,19),(9,20),(10,21),(11,22),(12,23),(13,23),(14,22),(14,21)]:
        px(img, x, y, outline)

    # 下翅右
    for (x, y) in [(17,18),(18,18),(19,18),(20,18),
                    (17,19),(18,19),(19,19),(20,19),(21,19),
                    (17,20),(18,20),(19,20),(20,20),(21,20),
                    (17,21),(18,21),(19,21),(20,21),
                    (18,22),(19,22)]:
        px(img, x, y, wing)
    for (x, y) in [(20,18),(21,18)]:
        px(img, x, y, highlight)
    for (x, y) in [(21,18),(22,19),(22,20),(21,21),(20,22),(19,23),(18,23),(17,22),(17,21)]:
        px(img, x, y, outline)

    # 头轮廓
    for (x, y) in [(13,9),(13,10),(18,9),(18,10),(14,8),(15,8),(16,8),(17,8)]:
        px(img, x, y, outline)

    # 尾部
    px(img, 15, 22, dark_body)
    px(img, 16, 22, dark_body)
    px(img, 15, 23, outline)
    px(img, 16, 23, outline)

    save(img, "moonlight_gu.png")


# ============================================================
# 3. 酒虫 - 琥珀色蠕虫
# ============================================================
def gen_liquor_worm():
    img = new_img()
    outline = (0x66, 0x44, 0x22, 255)
    body = (0xCC, 0x88, 0x33, 255)
    highlight = (0xEE, 0xAA, 0x44, 255)
    shadow = (0xAA, 0x66, 0x22, 255)
    dark = (0x88, 0x55, 0x22, 255)

    # S形蠕虫身体
    # 头部
    for (x, y) in [(9,10),(10,10),(11,10),(9,11),(10,11),(11,11),(12,11),
                    (9,12),(10,12),(11,12),(12,12),(10,13),(11,13)]:
        px(img, x, y, body)
    for (x, y) in [(9,10),(10,10),(9,11),(10,11)]:
        px(img, x, y, highlight)
    for (x, y) in [(12,12),(11,13)]:
        px(img, x, y, shadow)
    # 头轮廓
    for (x, y) in [(9,9),(10,9),(11,9),(12,10),(13,11),(13,12),(12,13),(11,14),(10,14),(9,13),(8,12),(8,11),(8,10)]:
        px(img, x, y, outline)
    # 眼
    px(img, 10, 10, (0x33, 0x22, 0x11, 255))

    # 身体弯曲段1 (向右下)
    for (x, y) in [(12,13),(13,13),(12,14),(13,14),(14,14),(13,15),(14,15),(15,15),
                    (14,16),(15,16),(16,16),(15,17),(16,17),(17,17)]:
        px(img, x, y, body)
    for (x, y) in [(12,13),(13,13),(12,14),(13,14)]:
        px(img, x, y, highlight)
    for (x, y) in [(16,16),(17,17)]:
        px(img, x, y, shadow)
    # 轮廓
    for (x, y) in [(11,13),(11,14),(12,15),(13,16),(14,17),(15,18),(16,18),(17,18),
                    (14,13),(15,14),(16,15),(17,16),(18,17)]:
        px(img, x, y, outline)

    # 身体弯曲段2 (向右)
    for (x, y) in [(17,17),(18,17),(19,17),(18,16),(19,16),(20,16),
                    (19,15),(20,15),(21,15),(20,14),(21,14),(22,14)]:
        px(img, x, y, body)
    for (x, y) in [(18,16),(19,15),(20,14)]:
        px(img, x, y, highlight)
    for (x, y) in [(19,17),(20,16),(21,15)]:
        px(img, x, y, shadow)
    # 轮廓
    for (x, y) in [(18,18),(19,18),(20,17),(21,16),(22,15),(23,14),
                    (18,15),(19,14),(20,13),(21,13),(22,13)]:
        px(img, x, y, outline)

    # 尾部
    for (x, y) in [(22,14),(23,14),(23,15)]:
        px(img, x, y, shadow)
    px(img, 24, 14, outline)
    px(img, 24, 15, outline)

    # 节段纹理
    for (x, y) in [(14,15),(16,17),(19,16),(21,15)]:
        px(img, x, y, dark)

    # 小脚
    for (x, y) in [(11,15),(13,17),(16,19),(19,18)]:
        px(img, x, y, shadow)

    save(img, "liquor_worm.png")


# ============================================================
# 4. 熊力蛊 - 棕色甲虫
# ============================================================
def gen_bear_strength_gu():
    img = new_img()
    outline = (0x55, 0x33, 0x22, 255)
    body = (0x88, 0x55, 0x33, 255)
    shell = (0xAA, 0x77, 0x44, 255)
    highlight = (0xBB, 0x88, 0x55, 255)
    shadow = (0x66, 0x44, 0x22, 255)
    dark = (0x44, 0x22, 0x11, 255)

    # 甲虫身体 - 俯视椭圆
    # 甲壳主体
    body_pixels = []
    for y in range(11, 23):
        if y == 11 or y == 22:
            xs = range(13, 19)
        elif y == 12 or y == 21:
            xs = range(12, 20)
        elif y == 13 or y == 20:
            xs = range(11, 21)
        else:
            xs = range(10, 22)
        for x in xs:
            body_pixels.append((x, y))
            px(img, x, y, shell)

    # 甲壳高光（左上）
    for (x, y) in [(13,11),(14,11),(15,11),(12,12),(13,12),(14,12),
                    (11,13),(12,13),(13,13),(11,14),(12,14),(10,15),(11,15)]:
        px(img, x, y, highlight)

    # 甲壳阴影（右下）
    for (x, y) in [(20,19),(21,19),(20,20),(19,20),(20,21),(19,21),
                    (18,22),(17,22),(16,22),(21,18),(21,17)]:
        px(img, x, y, shadow)

    # 甲壳中线
    for y in range(11, 23):
        px(img, 15, y, body)
        px(img, 16, y, body)

    # 头部
    for (x, y) in [(13,9),(14,9),(15,9),(16,9),(17,9),(18,9),
                    (13,10),(14,10),(15,10),(16,10),(17,10),(18,10)]:
        px(img, x, y, body)
    for (x, y) in [(13,9),(14,9),(15,9)]:
        px(img, x, y, highlight)
    # 头轮廓
    for (x, y) in [(12,9),(12,10),(19,9),(19,10),(13,8),(14,8),(15,8),(16,8),(17,8),(18,8)]:
        px(img, x, y, outline)
    # 眼睛
    px(img, 14, 10, (0x22, 0x11, 0x00, 255))
    px(img, 17, 10, (0x22, 0x11, 0x00, 255))
    # 下颚
    px(img, 14, 8, dark)
    px(img, 17, 8, dark)

    # 身体轮廓
    for (x, y) in [(13,10),(14,10),(15,10),(16,10),(17,10),(18,10)]:
        pass  # head connects
    for y in range(11, 23):
        if y == 11 or y == 22:
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y == 12 or y == 21:
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        elif y == 13 or y == 20:
            px(img, 10, y, outline)
            px(img, 21, y, outline)
        else:
            px(img, 9, y, outline)
            px(img, 22, y, outline)
    for x in range(13, 19):
        px(img, x, 23, outline)
    for x in range(10, 22):
        pass
    px(img, 12, 23, outline)
    px(img, 19, 23, outline)
    px(img, 11, 22, outline)
    px(img, 20, 22, outline)

    # 腿（3对）
    for (x, y) in [(8,14),(9,14),(8,17),(9,17),(8,20),(9,20)]:
        px(img, x, y, dark)
    for (x, y) in [(22,14),(23,14),(22,17),(23,17),(22,20),(23,20)]:
        px(img, x, y, dark)
    # 腿末端
    for (x, y) in [(7,14),(7,17),(7,20),(24,14),(24,17),(24,20)]:
        px(img, x, y, outline)

    save(img, "bear_strength_gu.png")


# ============================================================
# 5. 铜皮蛊 - 铜色蜗牛形
# ============================================================
def gen_jade_skin_gu():
    img = new_img()
    outline = (0x77, 0x55, 0x33, 255)
    body = (0xBB, 0x88, 0x44, 255)
    shell_light = (0xCC, 0xAA, 0x66, 255)
    shell_mid = (0xAA, 0x88, 0x55, 255)
    highlight = (0xDD, 0xBB, 0x77, 255)
    shadow = (0x88, 0x66, 0x33, 255)
    dark = (0x66, 0x44, 0x22, 255)

    # 蜗牛壳 - 螺旋形
    # 外圈
    shell_outer = []
    for y in range(8, 20):
        if y == 8 or y == 19:
            xs = range(14, 22)
        elif y == 9 or y == 18:
            xs = range(13, 23)
        elif y == 10 or y == 17:
            xs = range(12, 24)
        else:
            xs = range(11, 25)
        for x in xs:
            shell_outer.append((x, y))
            px(img, x, y, shell_mid)

    # 壳高光
    for (x, y) in [(14,8),(15,8),(16,8),(13,9),(14,9),(15,9),
                    (12,10),(13,10),(14,10),(11,11),(12,11),(13,11),
                    (11,12),(12,12)]:
        px(img, x, y, highlight)

    # 壳阴影
    for (x, y) in [(23,17),(24,16),(24,15),(24,14),(23,18),(22,18),(22,19),(21,19)]:
        px(img, x, y, shadow)

    # 螺旋线
    for (x, y) in [(16,10),(17,10),(18,10),(19,10),(20,10),
                    (20,11),(21,11),(21,12),(21,13),(21,14),
                    (20,15),(19,15),(18,15),(17,15),(16,15),
                    (15,14),(15,13),(15,12),(16,12),(17,12),(18,12),(19,12),
                    (19,13),(18,14),(17,13)]:
        px(img, x, y, dark)

    # 壳轮廓
    for x in range(14, 22):
        px(img, x, 7, outline)
    for x in range(14, 22):
        px(img, x, 20, outline)
    for y in range(8, 20):
        if y == 8 or y == 19:
            px(img, 13, y, outline)
            px(img, 22, y, outline)
        elif y == 9 or y == 18:
            px(img, 12, y, outline)
            px(img, 23, y, outline)
        elif y == 10 or y == 17:
            px(img, 11, y, outline)
            px(img, 24, y, outline)
        else:
            px(img, 10, y, outline)
            px(img, 25, y, outline)

    # 蜗牛身体（从壳底伸出）
    for (x, y) in [(8,20),(9,20),(10,20),(11,20),(12,20),(13,20),(14,20),(15,20),
                    (7,21),(8,21),(9,21),(10,21),(11,21),(12,21),(13,21),(14,21),(15,21),
                    (8,22),(9,22),(10,22),(11,22),(12,22),(13,22),(14,22),
                    (9,23),(10,23),(11,23),(12,23),(13,23)]:
        px(img, x, y, body)
    # 身体高光
    for (x, y) in [(8,20),(9,20),(10,20),(7,21),(8,21),(9,21)]:
        px(img, x, y, shell_light)
    # 身体阴影
    for (x, y) in [(14,22),(13,23),(14,21),(15,21)]:
        px(img, x, y, shadow)

    # 身体轮廓
    for (x, y) in [(8,19),(9,19),(7,20),(6,21),(7,22),(8,23),(9,24),(10,24),(11,24),(12,24),(13,24),(14,23),(15,22),(16,21),(16,20)]:
        px(img, x, y, outline)

    # 头/触角
    px(img, 7, 20, dark)
    px(img, 6, 19, outline)
    px(img, 5, 18, outline)
    px(img, 8, 19, outline)
    px(img, 7, 18, outline)

    # 眼睛
    px(img, 8, 20, (0x33, 0x22, 0x11, 255))

    save(img, "jade_skin_gu.png")


# ============================================================
# 6. 黑豕蛊 - 深灰猪形小虫
# ============================================================
def gen_white_boar_gu():
    img = new_img()
    outline = (0x22, 0x22, 0x22, 255)
    body = (0x44, 0x44, 0x44, 255)
    highlight = (0x66, 0x66, 0x66, 255)
    shadow = (0x33, 0x33, 0x33, 255)
    eye = (0xCC, 0x33, 0x33, 255)
    snout = (0x55, 0x44, 0x44, 255)

    # 猪形虫子 - 侧面，圆胖身体
    # 身体（椭圆）
    for y in range(12, 22):
        if y == 12 or y == 21:
            xs = range(11, 22)
        elif y == 13 or y == 20:
            xs = range(10, 23)
        else:
            xs = range(9, 24)
        for x in xs:
            px(img, x, y, body)

    # 高光
    for (x, y) in [(11,12),(12,12),(13,12),(14,12),(10,13),(11,13),(12,13),(13,13),
                    (9,14),(10,14),(11,14),(9,15),(10,15)]:
        px(img, x, y, highlight)

    # 阴影
    for (x, y) in [(22,19),(23,18),(23,17),(22,20),(21,20),(21,21),(20,21)]:
        px(img, x, y, shadow)

    # 轮廓
    for x in range(11, 22):
        px(img, x, 11, outline)
    for x in range(11, 22):
        px(img, x, 22, outline)
    for y in range(12, 22):
        if y == 12 or y == 21:
            px(img, 10, y, outline)
            px(img, 22, y, outline)
        elif y == 13 or y == 20:
            px(img, 9, y, outline)
            px(img, 23, y, outline)
        else:
            px(img, 8, y, outline)
            px(img, 24, y, outline)

    # 头/鼻子（右侧突出）
    for (x, y) in [(24,15),(25,15),(24,16),(25,16),(26,15),(26,16)]:
        px(img, x, y, snout)
    for (x, y) in [(24,14),(25,14),(26,14),(27,15),(27,16),(26,17),(25,17),(24,17)]:
        px(img, x, y, outline)
    # 鼻孔
    px(img, 26, 15, (0x33, 0x22, 0x22, 255))
    px(img, 26, 16, (0x33, 0x22, 0x22, 255))

    # 眼睛（红色）
    px(img, 22, 14, eye)
    px(img, 23, 14, eye)

    # 耳朵
    for (x, y) in [(19,10),(20,10),(21,10),(20,11),(21,11)]:
        px(img, x, y, body)
    for (x, y) in [(18,10),(19,9),(20,9),(21,9),(22,10),(22,11)]:
        px(img, x, y, outline)

    # 腿（4条短腿）
    for (x, y) in [(11,22),(12,22),(11,23),(12,23)]:
        px(img, x, y, shadow)
    for (x, y) in [(11,24),(12,24)]:
        px(img, x, y, outline)
    for (x, y) in [(19,22),(20,22),(19,23),(20,23)]:
        px(img, x, y, shadow)
    for (x, y) in [(19,24),(20,24)]:
        px(img, x, y, outline)

    # 尾巴（左侧卷曲）
    for (x, y) in [(8,14),(7,13),(7,12),(8,12)]:
        px(img, x, y, shadow)
    px(img, 6, 13, outline)
    px(img, 6, 12, outline)
    px(img, 7, 11, outline)
    px(img, 8, 11, outline)
    px(img, 9, 12, outline)

    save(img, "white_boar_gu.png")


# ============================================================
# 7. 青丝蛊 - 翠绿蛇形
# ============================================================
def gen_stealth_scales_gu():
    img = new_img()
    outline = (0x22, 0x55, 0x33, 255)
    body = (0x33, 0xAA, 0x55, 255)
    scales = (0x55, 0xCC, 0x77, 255)
    highlight = (0x66, 0xDD, 0x88, 255)
    shadow = (0x22, 0x88, 0x44, 255)
    dark = (0x11, 0x66, 0x33, 255)

    # S形蛇 - 细长弯曲
    # 头（三角形）
    for (x, y) in [(7,10),(8,10),(9,10),(10,10),
                    (7,11),(8,11),(9,11),(10,11),(11,11),
                    (8,12),(9,12),(10,12)]:
        px(img, x, y, body)
    for (x, y) in [(7,10),(8,10),(7,11),(8,11)]:
        px(img, x, y, highlight)
    # 头轮廓
    for (x, y) in [(6,10),(6,11),(7,9),(8,9),(9,9),(10,9),(11,10),(12,11),(11,12),(10,13),(9,13),(8,13),(7,12)]:
        px(img, x, y, outline)
    # 眼
    px(img, 8, 10, (0xFF, 0xFF, 0x00, 255))
    # 舌头
    px(img, 6, 10, (0xCC, 0x33, 0x33, 255))
    px(img, 5, 9, (0xCC, 0x33, 0x33, 255))

    # 身体段1 (向右下)
    segments = [
        (10,12),(11,12),(10,13),(11,13),(12,13),
        (12,14),(13,14),(13,15),(14,15),
        (14,16),(15,16),(15,17),(16,17),
    ]
    for (x, y) in segments:
        px(img, x, y, body)

    # 身体段2 (向右)
    segments2 = [
        (16,17),(17,17),(18,17),(17,18),(18,18),(19,18),
        (19,17),(20,17),(20,18),(21,18),(21,17),(22,17),
    ]
    for (x, y) in segments2:
        px(img, x, y, body)

    # 身体段3 (向上弯)
    segments3 = [
        (22,16),(23,16),(22,15),(23,15),
        (23,14),(24,14),(23,13),(24,13),
    ]
    for (x, y) in segments3:
        px(img, x, y, body)

    # 尾部
    for (x, y) in [(24,12),(25,12),(25,11)]:
        px(img, x, y, shadow)
    px(img, 26, 11, outline)
    px(img, 25, 10, outline)

    # 鳞片纹理
    for (x, y) in [(11,13),(13,15),(15,17),(18,18),(21,17),(23,15)]:
        px(img, x, y, scales)

    # 高光（蛇身上部）
    for (x, y) in [(10,12),(12,13),(14,15),(16,16),(18,17),(20,17),(22,16),(23,14)]:
        px(img, x, y, highlight)

    # 阴影（蛇身下部）
    for (x, y) in [(11,14),(13,16),(15,18),(17,19),(19,19),(21,19),(23,17),(24,15)]:
        px(img, x, y, shadow)

    # 身体轮廓
    body_outline = [
        (9,12),(10,11),(11,11),(12,12),(13,13),(14,14),(15,15),(16,16),
        (17,16),(18,16),(19,16),(20,16),(21,16),(22,15),(23,14),(24,13),(25,12),
        (11,14),(12,15),(13,16),(14,17),(15,18),(16,18),(17,19),(18,19),(19,19),
        (20,19),(21,19),(22,18),(23,17),(24,16),(25,15),(25,13),
    ]
    for (x, y) in body_outline:
        px(img, x, y, outline)

    save(img, "stealth_scales_gu.png")


# ============================================================
# 8. 四味酒虫 - 金色升级版酒虫
# ============================================================
def gen_four_flavors_liquor_worm():
    img = new_img()
    outline = (0x88, 0x66, 0x22, 255)
    body = (0xDD, 0xAA, 0x33, 255)
    highlight = (0xFF, 0xCC, 0x44, 255)
    shadow = (0xBB, 0x88, 0x22, 255)
    dark = (0x99, 0x77, 0x22, 255)
    bright = (0xFF, 0xDD, 0x66, 255)

    # 更粗壮的S形蠕虫
    # 头部（更大）
    for (x, y) in [(8,10),(9,10),(10,10),(11,10),
                    (7,11),(8,11),(9,11),(10,11),(11,11),(12,11),
                    (7,12),(8,12),(9,12),(10,12),(11,12),(12,12),
                    (8,13),(9,13),(10,13),(11,13)]:
        px(img, x, y, body)
    for (x, y) in [(8,10),(9,10),(10,10),(7,11),(8,11),(9,11),(7,12),(8,12)]:
        px(img, x, y, highlight)
    for (x, y) in [(12,12),(11,13)]:
        px(img, x, y, shadow)
    # 头轮廓
    for (x, y) in [(8,9),(9,9),(10,9),(11,9),(12,10),(13,11),(13,12),(12,13),(11,14),(10,14),(9,14),(8,14),(7,13),(6,12),(6,11),(7,10)]:
        px(img, x, y, outline)
    # 眼
    px(img, 9, 10, (0x44, 0x22, 0x00, 255))

    # 身体弯曲段1
    for (x, y) in [(11,13),(12,13),(13,13),(11,14),(12,14),(13,14),(14,14),
                    (13,15),(14,15),(15,15),(14,16),(15,16),(16,16),
                    (15,17),(16,17),(17,17),(16,18),(17,18),(18,18)]:
        px(img, x, y, body)
    for (x, y) in [(11,13),(12,13),(11,14),(12,14),(13,15)]:
        px(img, x, y, highlight)
    for (x, y) in [(17,17),(18,18)]:
        px(img, x, y, shadow)

    # 身体弯曲段2
    for (x, y) in [(18,17),(19,17),(20,17),(18,16),(19,16),(20,16),
                    (20,15),(21,15),(22,15),(21,14),(22,14),(23,14),
                    (22,13),(23,13)]:
        px(img, x, y, body)
    for (x, y) in [(18,16),(19,15),(20,14),(21,14)]:
        px(img, x, y, highlight)
    for (x, y) in [(20,17),(22,15)]:
        px(img, x, y, shadow)

    # 尾部
    for (x, y) in [(23,13),(24,13),(24,14),(25,14)]:
        px(img, x, y, shadow)
    px(img, 25, 13, outline)
    px(img, 26, 14, outline)

    # 轮廓（身体）
    body_out_top = [(13,12),(14,13),(15,14),(16,15),(17,16),(18,15),(19,14),(20,13),(21,13),(22,12),(23,12),(24,12)]
    body_out_bot = [(10,15),(11,15),(12,16),(13,17),(14,18),(15,19),(16,19),(17,19),(18,19),(19,18),(20,18),(21,17),(22,16),(23,15),(24,15)]
    for (x, y) in body_out_top + body_out_bot:
        px(img, x, y, outline)

    # 金色闪光点
    for (x, y) in [(9,11),(14,14),(17,16),(20,15),(22,13)]:
        px(img, x, y, bright)

    # 节段纹理
    for (x, y) in [(13,14),(16,16),(19,17),(22,14)]:
        px(img, x, y, dark)

    # 小脚
    for (x, y) in [(9,15),(12,17),(15,19),(18,20)]:
        px(img, x, y, shadow)

    save(img, "four_flavors_liquor_worm.png")


# ============================================================
# 9. 一气金光虫 - 金色蜻蜓形
# ============================================================
def gen_gold_light_worm():
    img = new_img()
    outline = (0x77, 0x55, 0x11, 255)
    body = (0xEE, 0xCC, 0x33, 255)
    wing = (0xFF, 0xEE, 0x88, 255)
    deep = (0xAA, 0x88, 0x22, 255)
    highlight = (0xFF, 0xDD, 0x55, 255)
    glow = (0xFF, 0xEE, 0xAA, 200)

    # 蜻蜓身体（细长水平）
    for x in range(10, 24):
        px(img, x, 15, body)
        px(img, x, 16, body)
    for x in range(10, 18):
        px(img, x, 15, highlight)
    for x in range(18, 24):
        px(img, x, 16, deep)

    # 头部
    for (x, y) in [(8,14),(9,14),(8,15),(9,15),(8,16),(9,16),(8,17),(9,17)]:
        px(img, x, y, body)
    for (x, y) in [(8,14),(9,14),(8,15)]:
        px(img, x, y, highlight)
    # 大眼
    px(img, 7, 14, (0x22, 0x11, 0x00, 255))
    px(img, 7, 15, (0x22, 0x11, 0x00, 255))
    px(img, 7, 16, (0x22, 0x11, 0x00, 255))
    px(img, 7, 17, (0x22, 0x11, 0x00, 255))
    # 头轮廓
    for (x, y) in [(7,13),(8,13),(9,13),(6,14),(6,15),(6,16),(6,17),(7,18),(8,18),(9,18),(10,17),(10,14)]:
        px(img, x, y, outline)

    # 尾部
    px(img, 24, 15, deep)
    px(img, 24, 16, deep)
    px(img, 25, 15, outline)
    px(img, 25, 16, outline)

    # 身体轮廓上下
    for x in range(10, 25):
        px(img, x, 14, outline)
        px(img, x, 17, outline)

    # 上翅左
    for (x, y) in [(11,10),(12,10),(13,10),(14,10),(15,10),
                    (10,11),(11,11),(12,11),(13,11),(14,11),(15,11),(16,11),
                    (10,12),(11,12),(12,12),(13,12),(14,12),(15,12),(16,12),
                    (11,13),(12,13),(13,13),(14,13),(15,13)]:
        px(img, x, y, wing)
    # 翅脉
    for (x, y) in [(11,11),(13,11),(15,11),(12,12),(14,12)]:
        px(img, x, y, body)
    # 翅轮廓
    for (x, y) in [(11,9),(12,9),(13,9),(14,9),(15,9),(16,10),(17,11),(17,12),(16,13),
                    (10,9),(9,10),(9,11),(9,12),(10,13)]:
        px(img, x, y, outline)

    # 上翅右
    for (x, y) in [(17,10),(18,10),(19,10),(20,10),(21,10),
                    (17,11),(18,11),(19,11),(20,11),(21,11),(22,11),
                    (17,12),(18,12),(19,12),(20,12),(21,12),(22,12),
                    (17,13),(18,13),(19,13),(20,13),(21,13)]:
        px(img, x, y, wing)
    for (x, y) in [(18,11),(20,11),(19,12),(21,12)]:
        px(img, x, y, body)
    for (x, y) in [(17,9),(18,9),(19,9),(20,9),(21,9),(22,10),(23,11),(23,12),(22,13)]:
        px(img, x, y, outline)

    # 下翅左
    for (x, y) in [(11,18),(12,18),(13,18),(14,18),(15,18),
                    (10,19),(11,19),(12,19),(13,19),(14,19),(15,19),(16,19),
                    (11,20),(12,20),(13,20),(14,20),(15,20)]:
        px(img, x, y, wing)
    for (x, y) in [(11,18),(13,18),(12,19),(14,19)]:
        px(img, x, y, body)
    for (x, y) in [(10,18),(9,19),(10,20),(11,21),(12,21),(13,21),(14,21),(15,21),(16,20),(17,19),(16,18)]:
        px(img, x, y, outline)

    # 下翅右
    for (x, y) in [(17,18),(18,18),(19,18),(20,18),(21,18),
                    (17,19),(18,19),(19,19),(20,19),(21,19),(22,19),
                    (18,20),(19,20),(20,20),(21,20)]:
        px(img, x, y, wing)
    for (x, y) in [(18,18),(20,18),(19,19),(21,19)]:
        px(img, x, y, body)
    for (x, y) in [(22,18),(23,19),(22,20),(21,21),(20,21),(19,21),(18,21),(17,20)]:
        px(img, x, y, outline)

    # 金色发光
    for (x, y) in [(8,12),(8,19),(24,12),(24,19),(16,8),(16,22)]:
        px(img, x, y, glow)

    save(img, "gold_light_worm.png")


# ============================================================
# 10. 铁骨蛊 - 灰色金属甲虫
# ============================================================
def gen_iron_bone_gu():
    img = new_img()
    outline = (0x44, 0x55, 0x66, 255)
    body = (0x77, 0x88, 0x99, 255)
    shell = (0x99, 0xAA, 0xBB, 255)
    highlight = (0xBB, 0xCC, 0xDD, 255)
    shadow = (0x55, 0x66, 0x77, 255)
    dark = (0x33, 0x44, 0x55, 255)

    # 金属甲虫 - 类似熊力蛊但颜色不同，形状更棱角
    # 甲壳主体
    for y in range(11, 22):
        if y == 11 or y == 21:
            xs = range(13, 19)
        elif y == 12 or y == 20:
            xs = range(12, 20)
        else:
            xs = range(11, 21)
        for x in xs:
            px(img, x, y, shell)

    # 金属高光（强反射）
    for (x, y) in [(13,11),(14,11),(15,11),(12,12),(13,12),(14,12),
                    (11,13),(12,13),(13,13),(11,14),(12,14)]:
        px(img, x, y, highlight)

    # 金属阴影
    for (x, y) in [(20,18),(20,19),(19,20),(18,20),(19,21),(18,21),
                    (20,17),(20,16)]:
        px(img, x, y, shadow)

    # 甲壳中线（金属缝隙）
    for y in range(11, 22):
        px(img, 15, y, dark)
        px(img, 16, y, dark)

    # 金属纹理 - 横线
    for x in range(11, 21):
        if 13 <= x <= 14 or 17 <= x <= 18:
            px(img, x, 15, shadow)
            px(img, x, 18, shadow)

    # 头部
    for (x, y) in [(13,9),(14,9),(15,9),(16,9),(17,9),(18,9),
                    (13,10),(14,10),(15,10),(16,10),(17,10),(18,10)]:
        px(img, x, y, body)
    for (x, y) in [(13,9),(14,9),(15,9)]:
        px(img, x, y, highlight)
    # 头轮廓
    for (x, y) in [(12,9),(12,10),(19,9),(19,10),(13,8),(14,8),(15,8),(16,8),(17,8),(18,8)]:
        px(img, x, y, outline)
    # 眼
    px(img, 14, 10, (0x88, 0xCC, 0xFF, 255))
    px(img, 17, 10, (0x88, 0xCC, 0xFF, 255))
    # 下颚
    px(img, 14, 8, dark)
    px(img, 17, 8, dark)

    # 身体轮廓
    for y in range(11, 22):
        if y == 11 or y == 21:
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y == 12 or y == 20:
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        else:
            px(img, 10, y, outline)
            px(img, 21, y, outline)
    for x in range(13, 19):
        px(img, x, 22, outline)
    px(img, 12, 22, outline)
    px(img, 19, 22, outline)
    px(img, 11, 21, outline)
    px(img, 20, 21, outline)

    # 金属腿（棱角分明）
    for (x, y) in [(9,13),(10,13),(9,16),(10,16),(9,19),(10,19)]:
        px(img, x, y, dark)
    for (x, y) in [(21,13),(22,13),(21,16),(22,16),(21,19),(22,19)]:
        px(img, x, y, dark)
    for (x, y) in [(8,13),(8,16),(8,19),(23,13),(23,16),(23,19)]:
        px(img, x, y, outline)

    save(img, "iron_bone_gu.png")


# ============================================================
# 11. 奴蛇蛊 - 暗紫蛇形+催眠眼
# ============================================================
def gen_enslave_snake_gu():
    img = new_img()
    outline = (0x33, 0x22, 0x44, 255)
    body = (0x66, 0x44, 0x88, 255)
    scales = (0x88, 0x66, 0xAA, 255)
    highlight = (0x99, 0x77, 0xBB, 255)
    shadow = (0x44, 0x33, 0x66, 255)
    eye_green = (0x44, 0xFF, 0x44, 255)

    # 盘蛇形态（部分盘绕）
    # 头（大三角，突出催眠眼）
    for (x, y) in [(9,9),(10,9),(11,9),(12,9),
                    (8,10),(9,10),(10,10),(11,10),(12,10),(13,10),
                    (8,11),(9,11),(10,11),(11,11),(12,11),(13,11),
                    (9,12),(10,12),(11,12),(12,12)]:
        px(img, x, y, body)
    for (x, y) in [(9,9),(10,9),(8,10),(9,10),(8,11)]:
        px(img, x, y, highlight)
    for (x, y) in [(13,11),(12,12)]:
        px(img, x, y, shadow)
    # 催眠大眼
    px(img, 10, 10, eye_green)
    px(img, 11, 10, eye_green)
    px(img, 10, 11, (0x22, 0xCC, 0x22, 255))
    px(img, 11, 11, (0x22, 0xCC, 0x22, 255))
    # 瞳孔
    px(img, 10, 10, (0x00, 0x44, 0x00, 255))
    # 头轮廓
    for (x, y) in [(9,8),(10,8),(11,8),(12,8),(13,9),(14,10),(14,11),(13,12),(12,13),
                    (8,8),(7,9),(7,10),(7,11),(8,12)]:
        px(img, x, y, outline)
    # 舌头
    px(img, 7, 10, (0xCC, 0x33, 0x55, 255))
    px(img, 6, 9, (0xCC, 0x33, 0x55, 255))
    px(img, 6, 11, (0xCC, 0x33, 0x55, 255))

    # 身体段1（向下弯）
    for (x, y) in [(11,12),(12,12),(13,12),(11,13),(12,13),(13,13),(14,13),
                    (13,14),(14,14),(15,14),(14,15),(15,15),(16,15),
                    (15,16),(16,16),(17,16),(16,17),(17,17),(18,17)]:
        px(img, x, y, body)
    for (x, y) in [(11,12),(12,12),(11,13),(13,14),(14,15)]:
        px(img, x, y, highlight)

    # 身体段2（向右弯上）
    for (x, y) in [(18,17),(19,17),(20,17),(18,16),(19,16),(20,16),
                    (20,15),(21,15),(22,15),(21,14),(22,14),(23,14),
                    (22,13),(23,13),(24,13)]:
        px(img, x, y, body)
    for (x, y) in [(18,16),(19,15),(20,14),(21,14)]:
        px(img, x, y, highlight)

    # 尾部弯回
    for (x, y) in [(24,14),(24,15),(23,16),(22,17),(21,18)]:
        px(img, x, y, shadow)
    for (x, y) in [(25,13),(25,14),(25,15),(24,16),(23,17),(22,18),(21,19)]:
        px(img, x, y, outline)

    # 鳞片纹理
    for (x, y) in [(12,13),(15,15),(18,17),(21,15),(23,13)]:
        px(img, x, y, scales)

    # 身体轮廓
    body_out = [
        (10,12),(10,13),(11,14),(12,14),(13,15),(14,16),(15,17),(16,18),(17,18),(18,18),(19,18),(20,18),
        (14,12),(15,13),(16,14),(17,15),(18,15),(19,15),(20,14),(21,13),(22,12),(23,12),(24,12),
    ]
    for (x, y) in body_out:
        px(img, x, y, outline)

    save(img, "enslave_snake_gu.png")


# ============================================================
# 12. 月痕蛊 - 蓝银蝴蝶+月牙纹
# ============================================================
def gen_moonscar_gu():
    img = new_img()
    outline = (0x44, 0x66, 0x88, 255)
    body = (0x77, 0x99, 0xCC, 255)
    wing = (0x99, 0xBB, 0xEE, 255)
    moon = (0xCC, 0xDD, 0xFF, 255)
    highlight = (0xBB, 0xDD, 0xFF, 255)
    shadow = (0x55, 0x77, 0xAA, 255)

    # 身体（中间竖直）
    for y in range(12, 21):
        px(img, 15, y, body)
        px(img, 16, y, body)
    for y in range(12, 16):
        px(img, 15, y, highlight)

    # 头
    for (x, y) in [(14,10),(15,10),(16,10),(17,10),(14,11),(15,11),(16,11),(17,11)]:
        px(img, x, y, body)
    for (x, y) in [(14,10),(15,10)]:
        px(img, x, y, highlight)
    # 触角
    px(img, 13, 8, outline)
    px(img, 14, 9, outline)
    px(img, 18, 8, outline)
    px(img, 17, 9, outline)
    px(img, 12, 7, moon)
    px(img, 19, 7, moon)
    # 眼
    px(img, 14, 11, moon)
    px(img, 17, 11, moon)
    # 头轮廓
    for (x, y) in [(13,10),(13,11),(18,10),(18,11),(14,9),(15,9),(16,9),(17,9)]:
        px(img, x, y, outline)

    # 左上翅
    wing_lu = []
    for y in range(10, 18):
        if y == 10:
            xs = range(10, 14)
        elif y == 11:
            xs = range(9, 14)
        elif y == 12 or y == 13:
            xs = range(8, 14)
        elif y == 14 or y == 15:
            xs = range(8, 15)
        elif y == 16:
            xs = range(9, 15)
        else:
            xs = range(10, 15)
        for x in xs:
            wing_lu.append((x, y))
            px(img, x, y, wing)
    # 月牙纹（左翅）
    for (x, y) in [(10,12),(10,13),(10,14),(11,14),(11,13),(11,12),(10,11)]:
        px(img, x, y, moon)
    # 左翅轮廓
    for (x, y) in [(10,9),(9,10),(8,11),(7,12),(7,13),(7,14),(7,15),(8,16),(9,17),(10,17),(11,17),(12,17),(13,17),(14,17)]:
        px(img, x, y, outline)
    for (x, y) in [(11,9),(12,9),(13,9)]:
        px(img, x, y, outline)

    # 右上翅
    for y in range(10, 18):
        if y == 10:
            xs = range(17, 22)
        elif y == 11:
            xs = range(17, 23)
        elif y == 12 or y == 13:
            xs = range(17, 24)
        elif y == 14 or y == 15:
            xs = range(17, 24)
        elif y == 16:
            xs = range(17, 23)
        else:
            xs = range(17, 22)
        for x in xs:
            px(img, x, y, wing)
    # 月牙纹（右翅）
    for (x, y) in [(21,12),(21,13),(21,14),(20,14),(20,13),(20,12),(21,11)]:
        px(img, x, y, moon)
    # 右翅轮廓
    for (x, y) in [(18,9),(19,9),(20,9),(21,9),
                    (22,10),(23,11),(24,12),(24,13),(24,14),(24,15),(23,16),(22,17),(21,17),(20,17),(19,17),(18,17),(17,17)]:
        px(img, x, y, outline)

    # 左下翅
    for (x, y) in [(11,19),(12,19),(13,19),(14,19),
                    (10,20),(11,20),(12,20),(13,20),(14,20),
                    (10,21),(11,21),(12,21),(13,21),
                    (11,22),(12,22)]:
        px(img, x, y, wing)
    for (x, y) in [(11,19),(12,19)]:
        px(img, x, y, highlight)
    for (x, y) in [(10,19),(9,20),(9,21),(10,22),(11,23),(12,23),(13,22),(14,21),(14,20),(15,19)]:
        px(img, x, y, outline)

    # 右下翅
    for (x, y) in [(17,19),(18,19),(19,19),(20,19),
                    (17,20),(18,20),(19,20),(20,20),(21,20),
                    (18,21),(19,21),(20,21),(21,21),
                    (19,22),(20,22)]:
        px(img, x, y, wing)
    for (x, y) in [(20,19),(21,19)]:
        px(img, x, y, highlight)
    for (x, y) in [(16,19),(17,20),(17,21),(18,22),(19,23),(20,23),(21,22),(22,21),(22,20),(21,19)]:
        px(img, x, y, outline)

    # 尾
    px(img, 15, 21, shadow)
    px(img, 16, 21, shadow)
    px(img, 15, 22, outline)
    px(img, 16, 22, outline)

    save(img, "moonscar_gu.png")


# ============================================================
# 13. 移形蛊 - 紫色甲虫+空间裂纹
# ============================================================
def gen_displacement_gu():
    img = new_img()
    outline = (0x44, 0x22, 0x66, 255)
    body = (0x77, 0x44, 0xAA, 255)
    shell = (0x88, 0x55, 0xBB, 255)
    crack = (0xAA, 0x77, 0xDD, 255)
    highlight = (0x99, 0x66, 0xCC, 255)
    shadow = (0x55, 0x33, 0x88, 255)
    bright_crack = (0xCC, 0x99, 0xFF, 255)

    # 甲虫形态
    for y in range(11, 22):
        if y == 11 or y == 21:
            xs = range(13, 19)
        elif y == 12 or y == 20:
            xs = range(12, 20)
        else:
            xs = range(11, 21)
        for x in xs:
            px(img, x, y, shell)

    # 高光
    for (x, y) in [(13,11),(14,11),(15,11),(12,12),(13,12),(14,12),
                    (11,13),(12,13),(13,13),(11,14),(12,14)]:
        px(img, x, y, highlight)

    # 阴影
    for (x, y) in [(20,19),(20,20),(19,20),(19,21),(18,21)]:
        px(img, x, y, shadow)

    # 中线
    for y in range(11, 22):
        px(img, 15, y, body)
        px(img, 16, y, body)

    # 空间裂纹！（闪亮的锯齿线）
    crack_pixels = [(12,14),(13,15),(12,16),(13,17),(14,18),(13,19),
                    (18,13),(19,14),(18,15),(19,16),(18,17),(19,18)]
    for (x, y) in crack_pixels:
        px(img, x, y, crack)
    # 裂纹亮核
    for (x, y) in [(13,15),(13,17),(19,14),(19,16)]:
        px(img, x, y, bright_crack)

    # 头部
    for (x, y) in [(13,9),(14,9),(15,9),(16,9),(17,9),(18,9),
                    (13,10),(14,10),(15,10),(16,10),(17,10),(18,10)]:
        px(img, x, y, body)
    for (x, y) in [(13,9),(14,9),(15,9)]:
        px(img, x, y, highlight)
    # 头轮廓
    for (x, y) in [(12,9),(12,10),(19,9),(19,10),(13,8),(14,8),(15,8),(16,8),(17,8),(18,8)]:
        px(img, x, y, outline)
    # 眼
    px(img, 14, 10, bright_crack)
    px(img, 17, 10, bright_crack)

    # 身体轮廓
    for y in range(11, 22):
        if y == 11 or y == 21:
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y == 12 or y == 20:
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        else:
            px(img, 10, y, outline)
            px(img, 21, y, outline)
    px(img, 12, 22, outline)
    px(img, 19, 22, outline)
    px(img, 11, 21, outline)
    px(img, 20, 21, outline)
    for x in range(13, 19):
        px(img, x, 22, outline)

    # 腿
    for (x, y) in [(9,14),(10,14),(9,17),(10,17),(9,19),(10,19)]:
        px(img, x, y, shadow)
    for (x, y) in [(21,14),(22,14),(21,17),(22,17),(21,19),(22,19)]:
        px(img, x, y, shadow)
    for (x, y) in [(8,14),(8,17),(8,19),(23,14),(23,17),(23,19)]:
        px(img, x, y, outline)

    save(img, "displacement_gu.png")


# ============================================================
# 14. 银月蛊 - 银白大蛾
# ============================================================
def gen_silver_moon_gu():
    img = new_img()
    outline = (0x66, 0x77, 0x88, 255)
    body = (0xBB, 0xCC, 0xDD, 255)
    wing = (0xDD, 0xEE, 0xFF, 255)
    moon = (0xFF, 0xFF, 0xFF, 255)
    highlight = (0xEE, 0xEE, 0xFF, 255)
    shadow = (0x99, 0xAA, 0xBB, 255)

    # 大型蛾身体
    for y in range(10, 23):
        px(img, 15, y, body)
        px(img, 16, y, body)
    for y in range(10, 15):
        px(img, 15, y, highlight)

    # 头
    for (x, y) in [(14,8),(15,8),(16,8),(17,8),
                    (14,9),(15,9),(16,9),(17,9)]:
        px(img, x, y, body)
    for (x, y) in [(14,8),(15,8)]:
        px(img, x, y, highlight)
    # 触角（大而华丽）
    for (x, y) in [(12,5),(13,6),(14,7),(11,5),(12,6)]:
        px(img, x, y, outline)
    for (x, y) in [(19,5),(18,6),(17,7),(20,5),(19,6)]:
        px(img, x, y, outline)
    px(img, 10, 4, moon)
    px(img, 11, 4, moon)
    px(img, 20, 4, moon)
    px(img, 21, 4, moon)
    # 眼
    px(img, 14, 9, moon)
    px(img, 17, 9, moon)
    # 头轮廓
    for (x, y) in [(13,8),(13,9),(18,8),(18,9),(14,7),(15,7),(16,7),(17,7)]:
        px(img, x, y, outline)

    # 左上翅（大而宽展）
    for y in range(9, 18):
        if y == 9:
            xs = range(10, 14)
        elif y == 10:
            xs = range(8, 14)
        elif y == 11:
            xs = range(7, 15)
        elif y == 12 or y == 13:
            xs = range(6, 15)
        elif y == 14:
            xs = range(6, 15)
        elif y == 15:
            xs = range(7, 15)
        elif y == 16:
            xs = range(8, 15)
        else:
            xs = range(9, 15)
        for x in xs:
            px(img, x, y, wing)
    # 月纹（白色弧线）
    for (x, y) in [(8,11),(8,12),(8,13),(9,13),(9,12),(9,11),(8,10)]:
        px(img, x, y, moon)
    # 翅高光
    for (x, y) in [(10,9),(11,9),(8,10),(9,10),(7,11),(8,11)]:
        px(img, x, y, highlight)
    # 左翅轮廓
    for (x, y) in [(10,8),(9,9),(7,10),(6,11),(5,12),(5,13),(5,14),(6,15),(7,16),(8,17),(9,17),(10,17),(11,17),(12,17),(13,17),(14,17)]:
        px(img, x, y, outline)
    for (x, y) in [(11,8),(12,8),(13,8)]:
        px(img, x, y, outline)

    # 右上翅
    for y in range(9, 18):
        if y == 9:
            xs = range(17, 22)
        elif y == 10:
            xs = range(17, 24)
        elif y == 11:
            xs = range(17, 25)
        elif y == 12 or y == 13:
            xs = range(17, 26)
        elif y == 14:
            xs = range(17, 26)
        elif y == 15:
            xs = range(17, 25)
        elif y == 16:
            xs = range(17, 24)
        else:
            xs = range(17, 23)
        for x in xs:
            px(img, x, y, wing)
    # 月纹右
    for (x, y) in [(23,11),(23,12),(23,13),(22,13),(22,12),(22,11),(23,10)]:
        px(img, x, y, moon)
    for (x, y) in [(21,9),(22,9),(24,10),(23,10)]:
        px(img, x, y, highlight)
    # 右翅轮廓
    for (x, y) in [(18,8),(19,8),(20,8),(21,8),
                    (22,9),(24,10),(25,11),(26,12),(26,13),(26,14),(25,15),(24,16),(23,17),(22,17),(21,17),(20,17),(19,17),(18,17),(17,17)]:
        px(img, x, y, outline)

    # 下翅左
    for (x, y) in [(10,19),(11,19),(12,19),(13,19),(14,19),
                    (9,20),(10,20),(11,20),(12,20),(13,20),(14,20),
                    (9,21),(10,21),(11,21),(12,21),(13,21),
                    (10,22),(11,22),(12,22)]:
        px(img, x, y, wing)
    for (x, y) in [(10,19),(11,19)]:
        px(img, x, y, highlight)
    for (x, y) in [(9,19),(8,20),(8,21),(9,22),(10,23),(11,23),(12,23),(13,22),(14,21),(14,20),(15,19)]:
        px(img, x, y, outline)

    # 下翅右
    for (x, y) in [(17,19),(18,19),(19,19),(20,19),(21,19),
                    (17,20),(18,20),(19,20),(20,20),(21,20),(22,20),
                    (18,21),(19,21),(20,21),(21,21),(22,21),
                    (19,22),(20,22),(21,22)]:
        px(img, x, y, wing)
    for (x, y) in [(21,19),(22,19)]:
        px(img, x, y, highlight)
    for (x, y) in [(16,19),(17,20),(17,21),(18,22),(19,23),(20,23),(21,23),(22,22),(23,21),(23,20),(22,19)]:
        px(img, x, y, outline)

    # 尾
    px(img, 15, 23, shadow)
    px(img, 16, 23, shadow)
    px(img, 15, 24, outline)
    px(img, 16, 24, outline)

    save(img, "silver_moon_gu.png")


# ============================================================
# 15. 白玉蛊 - 白绿玉蜗牛
# ============================================================
def gen_white_jade_gu():
    img = new_img()
    outline = (0x88, 0x99, 0x88, 255)
    body = (0xDD, 0xEE, 0xDD, 255)
    shell = (0xEE, 0xFF, 0xEE, 255)
    highlight = (0xF5, 0xFF, 0xF5, 255)
    shadow = (0xBB, 0xCC, 0xBB, 255)
    spiral = (0xAA, 0xBB, 0xAA, 255)
    translucent = (0xEE, 0xFF, 0xEE, 180)

    # 壳（大圆螺旋）
    for y in range(7, 19):
        if y == 7 or y == 18:
            xs = range(14, 22)
        elif y == 8 or y == 17:
            xs = range(13, 23)
        elif y == 9 or y == 16:
            xs = range(12, 24)
        else:
            xs = range(11, 25)
        for x in xs:
            px(img, x, y, shell)

    # 壳高光
    for (x, y) in [(14,7),(15,7),(16,7),(13,8),(14,8),(15,8),
                    (12,9),(13,9),(14,9),(11,10),(12,10),(13,10),
                    (11,11),(12,11)]:
        px(img, x, y, highlight)

    # 壳阴影
    for (x, y) in [(23,16),(24,15),(24,14),(24,13),(23,17),(22,17),(22,18),(21,18)]:
        px(img, x, y, shadow)

    # 螺旋线（淡绿）
    for (x, y) in [(16,9),(17,9),(18,9),(19,9),(20,9),
                    (21,10),(21,11),(21,12),(21,13),
                    (20,14),(19,14),(18,14),(17,14),(16,14),
                    (15,13),(15,12),(15,11),(16,11),(17,11),(18,11),(19,11),
                    (19,12),(18,13),(17,12)]:
        px(img, x, y, spiral)

    # 壳轮廓
    for x in range(14, 22):
        px(img, x, 6, outline)
    for x in range(14, 22):
        px(img, x, 19, outline)
    for y in range(7, 19):
        if y == 7 or y == 18:
            px(img, 13, y, outline)
            px(img, 22, y, outline)
        elif y == 8 or y == 17:
            px(img, 12, y, outline)
            px(img, 23, y, outline)
        elif y == 9 or y == 16:
            px(img, 11, y, outline)
            px(img, 24, y, outline)
        else:
            px(img, 10, y, outline)
            px(img, 25, y, outline)

    # 蜗牛身体
    for (x, y) in [(8,19),(9,19),(10,19),(11,19),(12,19),(13,19),(14,19),(15,19),
                    (7,20),(8,20),(9,20),(10,20),(11,20),(12,20),(13,20),(14,20),(15,20),
                    (8,21),(9,21),(10,21),(11,21),(12,21),(13,21),(14,21),
                    (9,22),(10,22),(11,22),(12,22),(13,22)]:
        px(img, x, y, body)
    for (x, y) in [(8,19),(9,19),(10,19),(7,20),(8,20),(9,20)]:
        px(img, x, y, highlight)
    for (x, y) in [(14,21),(15,20),(13,22)]:
        px(img, x, y, shadow)

    # 身体轮廓
    for (x, y) in [(8,18),(9,18),(7,19),(6,20),(7,21),(8,22),(9,23),(10,23),(11,23),(12,23),(13,23),(14,22),(15,21),(16,20),(16,19)]:
        px(img, x, y, outline)

    # 头/触角
    px(img, 7,19, spiral)
    px(img, 6,18, outline)
    px(img, 5,17, outline)
    px(img, 8,18, outline)
    px(img, 7,17, outline)

    # 眼
    px(img, 8, 19, (0x55, 0x66, 0x55, 255))

    # 半透明效果点
    for (x, y) in [(13,8),(14,9),(20,10),(22,12),(20,16),(14,17)]:
        px(img, x, y, translucent)

    save(img, "white_jade_gu.png")


# ============================================================
# 16. 天眼蛊 - 金色独眼球形
# ============================================================
def gen_heavens_eye_gu():
    img = new_img()
    outline = (0x88, 0x77, 0x33, 255)
    body = (0xCC, 0xAA, 0x44, 255)
    highlight = (0xDD, 0xBB, 0x55, 255)
    shadow = (0xAA, 0x88, 0x33, 255)
    dark = (0x88, 0x66, 0x22, 255)
    white = (0xFF, 0xFF, 0xFF, 255)
    iris = (0xFF, 0xD7, 0x00, 255)
    pupil = (0x22, 0x11, 0x00, 255)

    # 球形身体
    for y in range(8, 24):
        if y == 8 or y == 23:
            xs = range(13, 19)
        elif y == 9 or y == 22:
            xs = range(12, 20)
        elif y == 10 or y == 21:
            xs = range(11, 21)
        elif y == 11 or y == 20:
            xs = range(10, 22)
        else:
            xs = range(9, 23)
        for x in xs:
            px(img, x, y, body)

    # 高光（左上）
    for (x, y) in [(13,8),(14,8),(15,8),(12,9),(13,9),(14,9),
                    (11,10),(12,10),(13,10),(10,11),(11,11),(12,11),
                    (9,12),(10,12),(11,12),(9,13),(10,13)]:
        px(img, x, y, highlight)

    # 阴影（右下）
    for (x, y) in [(21,20),(22,19),(22,18),(22,17),(21,21),(20,21),
                    (20,22),(19,22),(18,22),(18,23),(17,23)]:
        px(img, x, y, shadow)

    # 大眼睛（中间）- 白底
    for y in range(12, 20):
        if y == 12 or y == 19:
            xs = range(13, 19)
        elif y == 13 or y == 18:
            xs = range(12, 20)
        else:
            xs = range(11, 21)
        for x in xs:
            px(img, x, y, white)

    # 虹膜（金色圆环）
    for y in range(13, 19):
        if y == 13 or y == 18:
            xs = range(13, 19)
        elif y == 14 or y == 17:
            xs = range(12, 20)
        else:
            xs = range(12, 20)
        for x in xs:
            px(img, x, y, iris)

    # 瞳孔（黑色中心）
    for y in range(14, 18):
        if y == 14 or y == 17:
            xs = range(14, 18)
        else:
            xs = range(13, 19)
        for x in xs:
            px(img, x, y, pupil)

    # 眼睛高光（白色亮点）
    px(img, 13, 13, white)
    px(img, 14, 13, white)
    px(img, 13, 14, white)
    px(img, 18, 17, (0xEE, 0xDD, 0x88, 255))

    # 虹膜纹理
    for (x, y) in [(12,15),(12,16),(19,15),(19,16),(15,13),(16,13),(15,18),(16,18)]:
        px(img, x, y, (0xEE, 0xBB, 0x00, 255))

    # 身体轮廓
    for y in range(8, 24):
        if y == 8 or y == 23:
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y == 9 or y == 22:
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        elif y == 10 or y == 21:
            px(img, 10, y, outline)
            px(img, 21, y, outline)
        elif y == 11 or y == 20:
            px(img, 9, y, outline)
            px(img, 22, y, outline)
        else:
            px(img, 8, y, outline)
            px(img, 23, y, outline)
    for x in range(13, 19):
        px(img, x, 7, outline)
        px(img, x, 24, outline)
    px(img, 12, 8, outline)
    px(img, 19, 8, outline)
    px(img, 12, 23, outline)
    px(img, 19, 23, outline)

    # 小触须/睫毛
    for (x, y) in [(11,8),(10,7),(20,8),(21,7),(8,14),(7,13),(23,14),(24,13)]:
        px(img, x, y, dark)

    save(img, "heavens_eye_gu.png")


# ============================================================
# 17. 春秋蝉 - 金棕色蝉（仙蛊）
# ============================================================
def gen_spring_autumn_cicada():
    img = new_img()
    outline = (0x88, 0x77, 0x44, 255)
    body = (0xBB, 0xAA, 0x55, 255)
    wing = (0xDD, 0xCC, 0x88, 255)
    highlight = (0xFF, 0xDD, 0x66, 255)
    shadow = (0x99, 0x88, 0x44, 255)
    dark = (0x77, 0x66, 0x33, 255)
    gold = (0xFF, 0xEE, 0x88, 255)
    glow = (0xFF, 0xEE, 0xAA, 120)

    # 蝉身体（头+胸+腹 竖直）
    # 头
    for (x, y) in [(13,7),(14,7),(15,7),(16,7),(17,7),(18,7),
                    (13,8),(14,8),(15,8),(16,8),(17,8),(18,8),
                    (14,9),(15,9),(16,9),(17,9)]:
        px(img, x, y, body)
    for (x, y) in [(13,7),(14,7),(15,7),(13,8),(14,8)]:
        px(img, x, y, highlight)
    # 眼
    px(img, 14, 8, (0xDD, 0x44, 0x00, 255))
    px(img, 17, 8, (0xDD, 0x44, 0x00, 255))
    # 头轮廓
    for (x, y) in [(12,7),(12,8),(19,7),(19,8),(13,6),(14,6),(15,6),(16,6),(17,6),(18,6),
                    (13,9),(18,9)]:
        px(img, x, y, outline)

    # 胸（宽）
    for (x, y) in [(13,10),(14,10),(15,10),(16,10),(17,10),(18,10),
                    (12,11),(13,11),(14,11),(15,11),(16,11),(17,11),(18,11),(19,11),
                    (12,12),(13,12),(14,12),(15,12),(16,12),(17,12),(18,12),(19,12)]:
        px(img, x, y, body)
    for (x, y) in [(13,10),(14,10),(12,11),(13,11),(12,12)]:
        px(img, x, y, highlight)
    for (x, y) in [(19,12),(19,11),(18,10)]:
        px(img, x, y, shadow)

    # 腹部（逐渐变窄）
    for y in range(13, 22):
        if y == 13:
            xs = range(12, 20)
        elif y == 14:
            xs = range(12, 20)
        elif y == 15 or y == 16:
            xs = range(13, 19)
        elif y == 17 or y == 18:
            xs = range(13, 19)
        elif y == 19:
            xs = range(14, 18)
        elif y == 20:
            xs = range(14, 18)
        else:
            xs = range(15, 17)
        for x in xs:
            px(img, x, y, body)
    # 腹部阴影
    for y in range(17, 22):
        px(img, 15, y, shadow)
        if y < 20:
            px(img, 18, y, shadow)
            px(img, 17, y, shadow)

    # 腹部纹理（横纹）
    for x in range(13, 19):
        px(img, x, 14, dark)
        px(img, x, 16, dark)
        px(img, x, 18, dark)

    # 腹部轮廓
    for y in range(10, 22):
        if y == 10:
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y in (11, 12, 13, 14):
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        elif y in (15, 16, 17, 18):
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y == 19 or y == 20:
            px(img, 13, y, outline)
            px(img, 18, y, outline)
        else:
            px(img, 14, y, outline)
            px(img, 17, y, outline)
    px(img, 15, 22, outline)
    px(img, 16, 22, outline)

    # 左翅（大而透明）
    for y in range(10, 20):
        if y == 10:
            xs = range(8, 12)
        elif y == 11:
            xs = range(6, 12)
        elif y == 12 or y == 13:
            xs = range(5, 12)
        elif y == 14 or y == 15:
            xs = range(5, 13)
        elif y == 16:
            xs = range(6, 13)
        elif y == 17:
            xs = range(7, 13)
        elif y == 18:
            xs = range(8, 13)
        else:
            xs = range(9, 12)
        for x in xs:
            px(img, x, y, wing)
    # 翅脉
    for (x, y) in [(8,11),(7,12),(6,13),(6,14),(7,15),(8,16),(9,17),(10,18),
                    (9,11),(8,13),(7,15),(9,14),(10,12)]:
        px(img, x, y, body)
    # 左翅轮廓
    for (x, y) in [(8,9),(7,10),(5,11),(4,12),(4,13),(4,14),(4,15),(5,16),(6,17),(7,18),(8,19),(9,19),(10,19),(11,19)]:
        px(img, x, y, outline)
    for (x, y) in [(9,9),(10,9),(11,9)]:
        px(img, x, y, outline)

    # 右翅
    for y in range(10, 20):
        if y == 10:
            xs = range(19, 24)
        elif y == 11:
            xs = range(19, 26)
        elif y == 12 or y == 13:
            xs = range(19, 27)
        elif y == 14 or y == 15:
            xs = range(19, 27)
        elif y == 16:
            xs = range(19, 26)
        elif y == 17:
            xs = range(19, 25)
        elif y == 18:
            xs = range(19, 24)
        else:
            xs = range(20, 23)
        for x in xs:
            px(img, x, y, wing)
    # 翅脉
    for (x, y) in [(23,11),(24,12),(25,13),(25,14),(24,15),(23,16),(22,17),(21,18),
                    (22,11),(23,13),(24,15),(22,14),(21,12)]:
        px(img, x, y, body)
    # 右翅轮廓
    for (x, y) in [(20,9),(21,9),(22,9),(23,9),(24,10),(26,11),(27,12),(27,13),(27,14),(27,15),(26,16),(25,17),(24,18),(23,19),(22,19),(21,19),(20,19)]:
        px(img, x, y, outline)

    # 仙蛊光晕
    glow_pixels = [(10,6),(11,6),(20,6),(21,6),(7,9),(24,9),
                   (4,11),(27,11),(3,15),(28,15),(5,19),(26,19),
                   (12,23),(13,23),(18,23),(19,23)]
    for (x, y) in glow_pixels:
        px(img, x, y, glow)

    # 金色亮点
    for (x, y) in [(14,7),(15,7),(13,11),(14,11),(15,10)]:
        px(img, x, y, gold)

    save(img, "spring_autumn_cicada.png")


# ============================================================
# 18. 月桂花瓣 - 淡蓝椭圆花瓣
# ============================================================
def gen_moon_orchid_petal():
    img = new_img()
    outline = (0x66, 0x77, 0x99, 255)
    body = (0xAA, 0xBB, 0xDD, 255)
    vein = (0xCC, 0xDD, 0xEE, 255)
    highlight = (0xBB, 0xCC, 0xEE, 255)
    shadow = (0x88, 0x99, 0xBB, 255)
    tip = (0xDD, 0xEE, 0xFF, 255)

    # 花瓣形状 - 椭圆，上尖下圆
    for y in range(6, 26):
        if y == 6 or y == 25:
            xs = range(15, 17)
        elif y == 7 or y == 24:
            xs = range(14, 18)
        elif y == 8 or y == 23:
            xs = range(13, 19)
        elif y == 9 or y == 22:
            xs = range(12, 20)
        elif y == 10 or y == 21:
            xs = range(11, 21)
        elif y == 11 or y == 20:
            xs = range(11, 21)
        elif y == 12 or y == 19:
            xs = range(10, 22)
        elif y == 13 or y == 18:
            xs = range(10, 22)
        else:
            xs = range(10, 22)
        for x in xs:
            px(img, x, y, body)

    # 高光（左上）
    for (x, y) in [(15,6),(16,6),(14,7),(15,7),(13,8),(14,8),(15,8),
                    (12,9),(13,9),(14,9),(11,10),(12,10),(13,10),
                    (11,11),(12,11),(10,12),(11,12),(10,13),(11,13)]:
        px(img, x, y, highlight)

    # 阴影（右下）
    for (x, y) in [(21,18),(21,19),(21,20),(20,20),(20,21),(19,21),(19,22),(18,23),(17,24)]:
        px(img, x, y, shadow)

    # 花脉（中心线+分支）
    for y in range(8, 24):
        px(img, 15, y, vein)
        px(img, 16, y, vein)
    # 侧脉
    for (x, y) in [(13,11),(14,11),(17,11),(18,11),
                    (12,14),(13,14),(18,14),(19,14),
                    (12,17),(13,17),(18,17),(19,17),
                    (13,20),(14,20),(17,20),(18,20)]:
        px(img, x, y, vein)

    # 花瓣尖端（更亮）
    for (x, y) in [(15,6),(16,6),(14,7),(15,7),(16,7),(17,7)]:
        px(img, x, y, tip)

    # 轮廓
    for y in range(6, 26):
        if y == 6 or y == 25:
            px(img, 14, y, outline)
            px(img, 17, y, outline)
        elif y == 7 or y == 24:
            px(img, 13, y, outline)
            px(img, 18, y, outline)
        elif y == 8 or y == 23:
            px(img, 12, y, outline)
            px(img, 19, y, outline)
        elif y == 9 or y == 22:
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        elif y in (10, 11, 20, 21):
            px(img, 10, y, outline)
            px(img, 21, y, outline)
        else:
            px(img, 9, y, outline)
            px(img, 22, y, outline)
    px(img, 15, 5, outline)
    px(img, 16, 5, outline)
    px(img, 15, 26, outline)
    px(img, 16, 26, outline)

    # 茎部（底部小柄）
    px(img, 15, 26, shadow)
    px(img, 16, 26, shadow)
    px(img, 15, 27, outline)
    px(img, 16, 27, outline)

    save(img, "moon_orchid_petal.png")


# ============================================================
# 19. 突破石 - 蓝紫色结晶
# ============================================================
def gen_breakthrough_stone():
    img = new_img()
    outline = (0x33, 0x22, 0x66, 255)
    body = (0x55, 0x44, 0xAA, 255)
    face_light = (0x77, 0x66, 0xCC, 255)
    highlight = (0xAA, 0x99, 0xEE, 255)
    shadow = (0x44, 0x33, 0x88, 255)
    bright = (0xCC, 0xBB, 0xFF, 255)
    glow = (0xBB, 0xAA, 0xFF, 140)

    # 多面体结晶 - 主晶体（大）
    # 左面
    for y in range(9, 22):
        if y < 12:
            xs = range(14 - (y - 9), 16)
        elif y < 18:
            xs = range(11, 16)
        else:
            xs = range(11 + (y - 18), 16)
        for x in xs:
            px(img, x, y, body)

    # 右面（更亮）
    for y in range(9, 22):
        if y < 12:
            xs = range(16, 18 + (y - 9))
        elif y < 18:
            xs = range(16, 21)
        else:
            xs = range(16, 21 - (y - 18))
        for x in xs:
            px(img, x, y, face_light)

    # 顶面
    for (x, y) in [(13,8),(14,8),(15,8),(16,8),(17,8),
                    (14,7),(15,7),(16,7)]:
        px(img, x, y, highlight)

    # 左面高光
    for (x, y) in [(12,10),(13,10),(12,11),(13,11),(11,12),(12,12),(11,13),(12,13)]:
        px(img, x, y, face_light)

    # 右面更亮区域
    for (x, y) in [(17,10),(18,10),(18,11),(19,11),(19,12),(20,12)]:
        px(img, x, y, highlight)

    # 轮廓
    # 左边
    for y in range(9, 22):
        if y < 12:
            px(img, 13 - (y - 9), y, outline)
        elif y < 18:
            px(img, 10, y, outline)
        else:
            px(img, 10 + (y - 18), y, outline)
    # 右边
    for y in range(9, 22):
        if y < 12:
            px(img, 18 + (y - 9), y, outline)
        elif y < 18:
            px(img, 21, y, outline)
        else:
            px(img, 21 - (y - 18), y, outline)
    # 上
    for (x, y) in [(14,6),(15,6),(16,6),(13,7),(17,7),(12,8),(18,8)]:
        px(img, x, y, outline)
    # 下
    for x in range(14, 18):
        px(img, x, 22, outline)
    px(img, 13, 22, outline)
    px(img, 18, 22, outline)
    # 中线
    for y in range(7, 22):
        px(img, 15, y, outline)
        px(img, 16, y, outline)
    # 恢复中线上面为亮色
    for y in range(9, 21):
        px(img, 15, y, shadow)
        px(img, 16, y, shadow)

    # 小晶体（右上方）
    for (x, y) in [(21,7),(22,7),(21,8),(22,8),(23,8),
                    (21,9),(22,9),(23,9),(22,10),(23,10)]:
        px(img, x, y, face_light)
    for (x, y) in [(21,6),(22,6),(23,7),(24,8),(24,9),(23,10),(23,11),(22,11),(21,10),(20,9),(20,8),(20,7)]:
        px(img, x, y, outline)
    px(img, 21, 7, highlight)
    px(img, 22, 7, highlight)

    # 小晶体（左下方）
    for (x, y) in [(8,18),(9,18),(8,19),(9,19),(10,19),
                    (9,20),(10,20)]:
        px(img, x, y, body)
    for (x, y) in [(8,17),(9,17),(10,18),(11,19),(11,20),(10,21),(9,21),(8,20),(7,19),(7,18)]:
        px(img, x, y, outline)
    px(img, 8, 18, face_light)

    # 发光效果
    for (x, y) in [(15,5),(16,5),(9,9),(22,5),(6,17),(25,8),(12,23)]:
        px(img, x, y, glow)

    # 亮点
    px(img, 12, 11, bright)
    px(img, 19, 11, bright)
    px(img, 22, 8, bright)

    save(img, "breakthrough_stone.png")


# ============================================================
# 20. 元石 - 淡青圆润石头
# ============================================================
def gen_primeval_stone():
    img = new_img()
    outline = (0x44, 0x77, 0x88, 255)
    body = (0x66, 0xAA, 0xBB, 255)
    highlight = (0x88, 0xCC, 0xDD, 255)
    shadow = (0x55, 0x88, 0x99, 255)
    bright = (0xAA, 0xDD, 0xEE, 255)
    dark = (0x44, 0x66, 0x77, 255)

    # 圆润石头形状
    for y in range(9, 23):
        if y == 9 or y == 22:
            xs = range(12, 20)
        elif y == 10 or y == 21:
            xs = range(11, 21)
        elif y == 11 or y == 20:
            xs = range(10, 22)
        else:
            xs = range(9, 23)
        for x in xs:
            px(img, x, y, body)

    # 高光（大面积，左上）
    for (x, y) in [(12,9),(13,9),(14,9),(15,9),(11,10),(12,10),(13,10),(14,10),(15,10),
                    (10,11),(11,11),(12,11),(13,11),(14,11),
                    (9,12),(10,12),(11,12),(12,12),(13,12),
                    (9,13),(10,13),(11,13),(12,13),
                    (9,14),(10,14),(11,14)]:
        px(img, x, y, highlight)

    # 更亮点
    for (x, y) in [(12,10),(13,10),(11,11),(12,11),(10,12),(11,12)]:
        px(img, x, y, bright)

    # 阴影（右下）
    for (x, y) in [(22,18),(22,19),(21,19),(21,20),(20,20),(20,21),(19,21),(18,21),(17,21),(19,22),(18,22)]:
        px(img, x, y, shadow)
    for (x, y) in [(22,17),(22,16)]:
        px(img, x, y, shadow)

    # 纹理（微妙的斑点）
    for (x, y) in [(14,14),(17,13),(13,17),(18,16),(15,19),(20,14)]:
        px(img, x, y, dark)
    for (x, y) in [(16,12),(19,15),(14,18),(20,11)]:
        px(img, x, y, highlight)

    # 轮廓
    for y in range(9, 23):
        if y == 9 or y == 22:
            px(img, 11, y, outline)
            px(img, 20, y, outline)
        elif y == 10 or y == 21:
            px(img, 10, y, outline)
            px(img, 21, y, outline)
        elif y == 11 or y == 20:
            px(img, 9, y, outline)
            px(img, 22, y, outline)
        else:
            px(img, 8, y, outline)
            px(img, 23, y, outline)
    for x in range(12, 20):
        px(img, x, 8, outline)
        px(img, x, 23, outline)
    px(img, 11, 9, outline)
    px(img, 20, 9, outline)
    px(img, 11, 22, outline)
    px(img, 20, 22, outline)

    save(img, "primeval_stone.png")


# ============================================================
# 21. 炼蛊炉 - 三脚鼎
# ============================================================
def gen_refinement_cauldron():
    img = new_img()
    outline = (0x33, 0x33, 0x33, 255)
    body = (0x77, 0x77, 0x77, 255)
    highlight = (0x99, 0x99, 0x99, 255)
    shadow = (0x55, 0x55, 0x55, 255)
    dark = (0x44, 0x44, 0x44, 255)
    fire = (0xFF, 0x66, 0x33, 255)
    fire_light = (0xFF, 0xAA, 0x44, 255)
    fire_dark = (0xCC, 0x44, 0x11, 255)

    # 鼎口（椭圆边沿）
    for x in range(10, 22):
        px(img, x, 8, highlight)
        px(img, x, 9, body)
    for x in range(9, 23):
        px(img, x, 7, outline)
        px(img, x, 10, outline)
    px(img, 9, 8, outline)
    px(img, 9, 9, outline)
    px(img, 22, 8, outline)
    px(img, 22, 9, outline)

    # 口内发光
    for x in range(11, 21):
        px(img, x, 8, fire_light)
    for x in range(12, 20):
        px(img, x, 9, fire)

    # 鼎身（梯形，上宽下窄）
    for y in range(10, 22):
        if y < 14:
            left = 10
            right = 22
        elif y < 18:
            left = 11
            right = 21
        else:
            left = 12
            right = 20
        for x in range(left, right):
            px(img, x, y, body)
        # 轮廓
        px(img, left - 1, y, outline)
        px(img, right, y, outline)

    # 高光（左面）
    for y in range(11, 20):
        if y < 14:
            px(img, 10, y, highlight)
            px(img, 11, y, highlight)
        elif y < 18:
            px(img, 11, y, highlight)
            px(img, 12, y, highlight)
        else:
            px(img, 12, y, highlight)

    # 阴影（右面）
    for y in range(11, 20):
        if y < 14:
            px(img, 20, y, shadow)
            px(img, 21, y, shadow)
        elif y < 18:
            px(img, 19, y, shadow)
            px(img, 20, y, shadow)
        else:
            px(img, 18, y, shadow)
            px(img, 19, y, shadow)

    # 鼎身纹理（横纹装饰）
    for x in range(11, 21):
        px(img, x, 13, dark)
        px(img, x, 17, dark)
    # 纹饰
    for x in range(13, 19):
        px(img, x, 15, dark)

    # 底部
    for x in range(12, 20):
        px(img, x, 22, outline)

    # 三条腿
    # 左腿
    for y in range(22, 26):
        px(img, 12, y, dark)
        px(img, 13, y, dark)
    px(img, 11, 26, outline)
    px(img, 12, 26, outline)
    px(img, 13, 26, outline)
    px(img, 14, 26, outline)
    px(img, 11, 22, outline)
    px(img, 11, 23, outline)
    px(img, 11, 24, outline)
    px(img, 11, 25, outline)
    px(img, 14, 22, outline)
    px(img, 14, 23, outline)
    px(img, 14, 24, outline)
    px(img, 14, 25, outline)

    # 右腿
    for y in range(22, 26):
        px(img, 18, y, dark)
        px(img, 19, y, dark)
    px(img, 17, 26, outline)
    px(img, 18, 26, outline)
    px(img, 19, 26, outline)
    px(img, 20, 26, outline)
    px(img, 17, 22, outline)
    px(img, 17, 23, outline)
    px(img, 17, 24, outline)
    px(img, 17, 25, outline)
    px(img, 20, 22, outline)
    px(img, 20, 23, outline)
    px(img, 20, 24, outline)
    px(img, 20, 25, outline)

    # 中腿（前面短）
    for y in range(22, 25):
        px(img, 15, y, dark)
        px(img, 16, y, dark)
    px(img, 14, 25, outline)
    px(img, 15, 25, outline)
    px(img, 16, 25, outline)
    px(img, 17, 25, outline)

    # 耳/把手
    for (x, y) in [(8,11),(8,12),(8,13),(9,11),(9,13)]:
        px(img, x, y, outline)
    px(img, 9, 12, dark)
    for (x, y) in [(23,11),(23,12),(23,13),(22,11),(22,13)]:
        px(img, x, y, outline)
    px(img, 22, 12, dark)

    # 火焰/发光（口部向上的火焰）
    for (x, y) in [(14,6),(15,5),(16,6),(17,5),(13,7),(18,7)]:
        px(img, x, y, fire)
    for (x, y) in [(15,4),(16,5),(14,5)]:
        px(img, x, y, fire_light)
    px(img, 15, 3, fire_dark)
    px(img, 16, 4, fire_dark)

    save(img, "refinement_cauldron.png")


# ============================================================
# 主函数
# ============================================================
def main():
    os.makedirs(OUTPUT_DIR, exist_ok=True)
    print("Generating 32x32 item textures...")
    print()

    print("[1/7] Rank 1 Gu Worms:")
    gen_hope_gu()
    gen_moonlight_gu()
    gen_liquor_worm()
    gen_bear_strength_gu()
    gen_jade_skin_gu()
    gen_white_boar_gu()
    gen_stealth_scales_gu()

    print("[2/7] Rank 2 Gu Worms:")
    gen_four_flavors_liquor_worm()
    gen_gold_light_worm()
    gen_iron_bone_gu()
    gen_enslave_snake_gu()
    gen_moonscar_gu()
    gen_displacement_gu()

    print("[3/7] Rank 3 Gu Worms:")
    gen_silver_moon_gu()
    gen_white_jade_gu()
    gen_heavens_eye_gu()

    print("[4/7] Rank 6 Immortal Gu:")
    gen_spring_autumn_cicada()

    print("[5/7] Non-Gu Items:")
    gen_moon_orchid_petal()
    gen_breakthrough_stone()
    gen_primeval_stone()
    gen_refinement_cauldron()

    print()
    print("All 21 textures generated successfully!")


if __name__ == "__main__":
    main()
